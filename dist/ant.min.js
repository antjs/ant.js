/*! ant.js - v0.2.3 2014-05-26 */

!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.Ant=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";function c(a){a&&(this.prefix=a)}function d(a,b){B(a)&&(a=b.tpl),b=b||{};var c,d=this.defaults||{};b=F(!0,{},d,b);var e=b.data||{},g=b.events||{},h=b.filters||{};c=G(a,b.el),a=c.tpl,c=c.el,this.options=b,this.tpl=a,this.el=c,this.data={},this.isRendered=!1,this.partials={},this.filters={};for(var i in g)this.on(i,g[i]);for(var j in h)this.setFilter(j,h[j]);f.call(this),e=F(this.data,e),b.data&&this.render(e)}function e(a,b,c,d){var e,f=this._vm;return x(a)?(d=c,c=b,e=b=a):"string"==typeof a?(a=C(a).join("."),y(b)&&(b=this.get(a)),e=D(a,b,{}),f=f.$getVM(a)):b=this.data,y(c)&&(c=x(a)),f.$set(b,c,d!==!1),this}function f(){var a=new n({$ant:this});this._vm=a,g(this.el,a)}function g(a,b){if(a.length&&y(a.nodeType))for(var c=0,d=a.length;d>c;c++)g(a[c],b);else if(a.nodeType!==J.COMMENT){if(a.nodeType===J.TEXT)return void i(a,b);if(!h(a,b))for(var e,f=a.firstChild;f;)e=f.nextSibling,g(f,b),f=e}}function h(a,b){for(var c,e,f,g=d.prefix,h=j(a,d.directives,g),i=0,l=h.length;l>i&&(c=h[i],!(e>c.priority));i++)k(b,c),a.removeAttribute(c.node.nodeName),c.terminal&&(f=!0,e=c.priority);return f?!0:void 0}function i(a,b){if(w.hasToken(a.nodeValue)){var c,e,f=w.parseToken(a.nodeValue),g=f.textMap,h=a.parentNode;g.length>1?(g.forEach(function(c){var d=o.createTextNode(c);h.insertBefore(d,a),i(d,b)}),h.removeChild(a)):(c=f[0],K.test(c.path)?(c.path=c.path.replace(K,""),e=H(d.directives.partial)):e=H(c.escape?d.directives.text:d.directives.html),k(b,F(e,c,{el:a})))}}function j(a,b,c){c=c||"",b=b||{};for(var d,e,f,g,h=[],i={},j=a.parentNode,k=a.attributes.length-1;k>=0;k--)d=a.attributes[k],e=d.nodeName,f=e.slice(c.length),0===e.indexOf(c)&&f in b?(g=H(b[f]),g.dirName=f):w.hasToken(d.value)?(g=H(b.attr),g.dirs=w.parseToken(d.value),g.dirName=0===e.indexOf(c)?f:e):g=!1,g&&(g.anchor&&!i.start&&(i.start=o.createTextNode(""),j.insertBefore(i.start,a),i.end=o.createTextNode(""),a.nextSibling?j.insertBefore(i.end,a.nextSibling):j.appendChild(i.end)),h.push(F(g,{el:a,node:d,nodeName:e,path:d.value,anchors:g.anchor?i:null})));return h.sort(function(a,b){return b.priority-a.priority}),h}function k(a,b){if(b.replace){var c=b.el;z(b.replace)?b.node=b.replace():b.replace&&(b.node=o.createTextNode("")),b.el=b.el.parentNode,b.el.replaceChild(b.node,c)}b.link(a),b.dirs?b.dirs.forEach(function(c){l(a,F(H(b),c))}):l(a,b)}function l(a,b){return b.path?new m(a,b):void 0}function m(a,b){this.token=b,this.relativeVm=a,this.ant=a.$root.$ant,this.val=0/0,L.call(this,b.path);for(var c=0,d=this.paths.length;d>c;c++)a.$getVM(this.paths[c]).$watchers.push(this);this.state=m.STATE_READY,(this.ant.isRendered||!this.locals.length)&&this.fn()}function n(a){F(this,{$key:"",$root:this,$watchers:[],$assignment:{}},a)}var o=a("./document.js"),p=a("./parse.js").parse,q=a("./eval.js"),r=a("./utils.js"),s=a("./event.js"),t=a("./class.js"),u=a("./directive.js"),v=a("./directives"),w=a("./token.js"),x=r.isObject,y=r.isUndefined,z=r.isFunction,A=r.isArray,B=r.isPlainObject,C=(r.afterFn,r.parseKeyPath),D=r.deepSet,E=r.deepGet,F=r.extend,G=(r.ie,r.tplParse),H=r.create;F(d,t,u,{setPrefix:c,doc:o,directives:{},utils:r}),d.setPrefix("a-");for(var I in v)d.directive(I,v[I]);F(d.prototype,s,{render:function(a){return a=a||this.data,this.set(a,{isExtend:!1}),this.isRendered=!0,this.trigger("render"),this},clone:function(a){var b=F(!0,{},this.options);return a&&a.data&&(b.data=null),new this.constructor(this.tpl,F(!0,b,a))},get:function(a){return E(a,this.data)},set:function(a,b,c){var d,f,g,h,i;if(y(a))return this;if(x(a))d=!0,c=b,c=c||{},c.isExtend!==!1?(f=!0,F(!0,this.data,a)):(f=!1,this.data=F(!0,{},a));else if(c=c||{},E(a,this.data)!==b&&(d=!0),d)if(c.isExtend!==!0){if(h=C(a),h.length>1){if(i=h.pop(),g=E(h.join("."),this.data),y(g))D(h.join("."),g={},this.data);else if(!x(g)){var j=g;D(h.join("."),g={toString:function(){return j}},this.data)}}else a?(g=this.data,i=a):(g=this,i="data");g[i]=x(b)?F(!0,A(b)?[]:{},b):b,f=!1}else F(!0,this.data,D(a,b,{})),f=!0;return d&&!c.silence&&(x(a)?e.call(this,a,f,c.isBubble):e.call(this,a,b,f,c.isBubble)),this},setPartial:function(a){if(a){a=F({},this.partials[a.name],a);var b,c,e,f=a.name,h=a.target,i=a.content,j=a.path||"";if(f&&(this.partials[f]=a),i){if(e=this._vm.$getVM(j),"string"==typeof i)if(a.escape)b=[o.createTextNode(i)];else{c=G(i,"div").el.childNodes,b=[];for(var k=0,l=c.length;l>k;k++)b.push(c[k])}else b=[i instanceof d?i.el:i];if(h)for(var k=0,l=b.length;l>k;k++)z(h)?h.call(this,b[k]):h.appendChild(b[k]);g(b,e)}return this}},watch:function(a,b){return a&&b&&l(this._vm,{path:a,update:b}),this},unwatch:function(a,b){var c=this._vm.$getVM(a,{strict:!0});if(c)for(var d=c.$watchers.length-1;d>=0;d--)c.$watchers[d].callback===b&&c.$watchers.splice(d,1);return this},setFilter:function(a,b){this.filters[a]=b.bind(this)},getFilter:function(a){return this.filters[a]},removeFilter:function(a){delete this.filters[a]}});var J={ATTR:2,TEXT:3,COMMENT:8},K=/^>\s*(?=.+)/,L=function(a){var b=p(a,this.token.type),c=q.summary(b);F(this.token,c),F(this,c),this._ast=b};F(m,{STATE_READY:0,STATE_CALLED:1},t),F(m.prototype,{fn:function(){for(var a,b={},c=0,d=this.locals.length;d>c;c++)a=this.locals[c],b[a]=this.relativeVm.$getVM(a).$getData();{var e=this.getValue(b);this.token}if(e!==this.val)try{this.token.update(e,this.val),this.val=e}catch(f){console.error(f)}this.state=m.STATE_CALLED},getValue:function(a){for(var b,c=this.filters,d=this.ant,e=0,f=c.length;f>e;e++)d.filters[c[e]]||console.error("Filter: "+c[e]+" not found!");try{b=q.eval(this._ast,{locals:a,filters:d.filters})}catch(g){b=""}return b}}),n.prototype={$root:null,$parent:null,$ant:null,$key:null,$assignment:null,$watchers:null,$value:0/0,$getVM:function(a,b){a+="",b=b||{};var c,d,e=b.scope||this.$root,f=r.parseKeyPath(a);if(f[0]in this.$assignment&&(e=this.$assignment[f[0]],f.shift()),a)for(var g=0,h=f.length;h>g;g++){if(c=f[g],!e[c]){if(b.strict)return null;d=new n({$parent:e,$root:e.$root,$assignment:F({},e.$assignment),$key:c}),e[c]=d}e=e[c]}return e},$getKeyPath:function(){for(var a=this.$key,b=this;(b=b.$parent)&&b.$key;)a=b.$key+"."+a;return a},$getData:function(a){var b=E(a,this.$root.$ant.get(this.$getKeyPath()));return b},$set:function(a,b,c){for(var d=b?a:this,e=this,f=0,g=this.$watchers.length;g>f;f++)(this.$value!==a||this.$watchers[f].state===m.STATE_READY)&&this.$watchers[f].fn();if(this.$value=a,x(d))for(var h in d)!this.hasOwnProperty(h)||h in n.prototype||this[h].$set(a?a[h]:void 0,b);if(c)for(;e=e.$parent;)for(var f=0,g=e.$watchers.length;g>f;f++)e.$watchers[f].fn()},$build:function(a){g(a,this)}},d._parse=p,d._eval=q.eval,d._summary=q.summary,d.version="0.2.3",b.exports=d},{"./class.js":2,"./directive.js":3,"./directives":5,"./document.js":8,"./eval.js":9,"./event.js":10,"./parse.js":11,"./token.js":12,"./utils.js":13}],2:[function(a,b){var c=a("./utils.js").extend,d={extend:function(a,b){a=a||{};var d=a.hasOwnProperty("constructor")?a.constructor:function(){return e.apply(this,arguments)},e=this,f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,c(d.prototype,a),c(d,e,b,{__super__:e.prototype}),d}};b.exports=d},{"./utils.js":13}],3:[function(a,b,c){"use strict";function d(a,b){var c=this.directives=this.directives||{};return c[a]=new e(a,b)}function e(a,b){f.extend(this,{priority:0,type:a,terminal:!1,replace:!1},b)}var f=a("./utils.js");c.directive=d,e.prototype={link:f.noop,update:f.noop,tearDown:f.noop}},{"./utils.js":13}],4:[function(a,b){"use strict";function c(a,b,c){try{(b in a||"class"===b)&&("style"===b&&a.style.setAttribute?a.style.setAttribute("cssText",c):"class"===b?a.className=c:a[b]="boolean"==typeof a[b]?!0:c)}catch(d){}try{a.setAttribute(b,c)}catch(d){console.warn(d)}}var d=/\?$/;b.exports={link:function(){this.dirName===this.type?this.attrs={}:d.test(this.dirName)&&(this.dirName=this.dirName.replace(d,""),this.conditionalAttr=!0)},update:function(a){var b=this.el;if(this.dirName===this.type){for(var d in a)c(b,d,a[d]),delete this.attrs[d];for(var d in this.attrs)b.removeAttribute(d);this.attrs=a}else this.conditionalAttr?a?c(b,this.dirName,a):b.removeAttribute(this.dirName):(this.textMap[this.position]=a&&a+"",c(b,this.dirName,this.textMap.join("")))}}},{}],5:[function(a,b){"use strict";var c=a("../document.js"),d=a("../utils.js"),e={};e.text={terminal:!0,replace:function(){return c.createTextNode("")},update:function(a){this.node.nodeValue=d.isUndefined(a)?"":a}},e.html={terminal:!0,replace:!0,link:function(){this.nodes=[]},update:function(a){var b=document.createElement("div");b.innerHTML=d.isUndefined(a)?"":a;for(var c;c=this.nodes.pop();)c.parentNode&&c.parentNode.removeChild(c);for(var e=b.childNodes,f=0,g=e.length;g>f;f++)this.nodes.push(e[f]),this.el.insertBefore(this.nodes[f],this.node)}},e["if"]={anchor:!0,link:function(){var a=this.el.parentNode;a.removeChild(this.el)},update:function(a){var b=this.anchors.end.parentNode;a?this.state||b.insertBefore(this.el,this.anchors.end):this.state&&b.removeChild(this.el),this.state=a}},e.partial={terminal:!0,replace:!0,link:function(a){var b,c,d,e=this;b=this.path,c=a.$root.$ant,d=c.options,this.path="",c.setPartial({name:b,content:d&&d.partials&&d.partials[b],target:function(a){e.el.insertBefore(a,e.node)},escape:this.escape,path:a.$getKeyPath()})}},e.template={priority:1e4,link:function(){}},e.repeat=a("./repeat.js"),e.attr=a("./attr.js"),e.model=a("./model.js"),b.exports=e},{"../document.js":8,"../utils.js":13,"./attr.js":4,"./model.js":6,"./repeat.js":7}],6:[function(a,b){"use strict";function c(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function d(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent("on"+b,c)}var e=a("../utils.js"),f=a("../token.js").hasToken;b.exports={teminal:!0,priority:1,link:function(a){var b=this.path;if(!b)return!1;var g,h=this.el,i="change",j=g="value",k=a.$root.$ant,l=a.$getVM(b),m=e.isUndefined(k.get(l.$getKeyPath())),n=/\r\n/g,o=function(c){var d=(c||a.$getData(b)||"")+"",c=h[g];c&&c.replace&&(c=c.replace(n,"\n")),d!==c&&(h[g]=d)},p=function(a){var b=h[j];b.replace&&(b=b.replace(n,"\n")),k.set(l.$getKeyPath(),b,{isBubble:a!==!0})},q=function(a){a&&a.propertyName&&a.propertyName!==g||p.apply(this,arguments)},r=e.ie;switch(h.tagName){default:j=g="innerHTML";case"INPUT":case"TEXTAREA":switch(h.type){case"checkbox":j=g="checked",r&&(i+=" click");break;case"radio":g="checked",r&&(i+=" click"),o=function(){h.checked=h.value===a.$getData(b)+""},m=h.checked;break;default:k.options.lazy||("oninput"in h&&(i+=" input"),r&&(i+=" keyup propertychange cut"))}break;case"SELECT":h.multiple&&(p=function(a){for(var b=[],c=0,d=h.options.length;d>c;c++)h.options[c].selected&&b.push(h.options[c].value);k.set(l.$getKeyPath(),b,{isBubble:a!==!0})},o=function(){var c=a.$getData(b);if(c&&c.length)for(var d=0,e=h.options.length;e>d;d++)h.options[d].selected=-1!==c.indexOf(h.options[d].value)}),m=m&&!f(h[j])}this.update=o,i.split(/\s+/g).forEach(function(a){d(h,a,q),c(h,a,q)}),h[j]&&m&&p(!0)}}},{"../token.js":12,"../utils.js":13}],7:[function(a,b){"use strict";function c(a,b,c){for(var d=a.__vm__.$watchers,e=!0,f=0,g=d.length;g>f;f++)"repeat"===d[f].token.type&&(d[f].token[b](c,a,e),e=!1);a.__vm__.length&&a.__vm__.length.$set(a.length,!1,!0)}var d=a("../document.js"),e=a("../utils.js"),f=e.afterFn;b.exports={priority:1e3,anchor:!0,terminal:!0,link:function(a){this.els=[],this.relativeVm=a,this.el.parentNode.removeChild(this.el)},update:function(a){this.vm||(this.vm=this.relativeVm.$getVM(this.paths[0])),a&&(e.isArray(a)?(a.splice!==g.splice&&(e.extend(a,g),a.__vm__=this.vm),this.splice([0,this.els.length].concat(a),a)):console.warn("需要一个数组"))},splice:function(a,b,c){var f,g,h=this.els,i=a.slice(2),j=1*a[0],k=1*a[1],l=i.length,m=[],n=d.createDocumentFragment(),o=this.anchors.start.parentNode;e.isUndefined(k)&&(a[1]=k=h.length-j);for(var p=j,q=h.length;q>p;p++)if(j+k>p){try{o.removeChild(h[p])}catch(r){}c&&delete this.vm[p]}else{if(!k&&!l)break;var s=p-(k-l),t=p;s>t&&(s=q-(p-j),t=s+(k-l)),h[t].$index=s,c&&(g=this.vm[s]=this.vm[t],g.$key=s+"")}for(var u=0;l>u;u++){f=this.el.cloneNode(!0),c&&delete this.vm[j+u],g=this.vm.$getVM(j+u,{scope:this.vm});for(var v=0;v<this.assignments.length;v++)g.$assignment[this.assignments[v]]=g;f.$index=j+u,n.appendChild(f),g.$build(f),m.push(f)}if(m.length&&o.insertBefore(n,h[j+k]||this.anchors.end),c)for(var w=q-k+l;q>w;w++)delete this.vm[w];b.__vm__!==this.vm&&(b.__vm__=this.vm),a=a.slice(0,2).concat(m),h.splice.apply(h,a)},reverse:function(a,b,c){for(var e,f=this.vm,g=this.anchors.end,h=d.createDocumentFragment(),i=0,j=this.els.length;j>i;i++)c&&.5>i&&(e=f[i],f[i]=f[j-i-1],f[i].$key=i+"",e.$key=j-i-1+"",f[j-i-1]=e),this.els[i].$index=j-i-1,h.appendChild(this.els[j-i-1]);g.parentNode.insertBefore(h,g),this.els.reverse()},sort:function(){this.update(this.vm.$value)}};var g={splice:f([].splice,function(){c(this,"splice",[].slice.call(arguments))}),push:f([].push,function(){var a=[].slice.call(arguments);a.unshift(this.length-a.length,0),c(this,"splice",a)}),pop:f([].pop,function(){c(this,"splice",[this.length,1])}),shift:f([].shift,function(){c(this,"splice",[0,1])}),unshift:f([].unshift,function(){var a=[].slice.call(arguments);a.unshift(0,0),c(this,"splice",a)}),sort:f([].sort,function(){c(this,"sort")}),reverse:f([].reverse,function(){c(this,"reverse")})}},{"../document.js":8,"../utils.js":13}],8:[function(a,b){!function(c){"use strict";b.exports=c.document||a("jsdom").jsdom()}(function(){return this}())},{}],9:[function(a,b,c){"use strict";function d(a,b){return i[a][b]||function(){}}function e(a){f=a?{locals:a.locals||{},filters:a.filters||{}}:{filters:{},locals:{}},g={filters:{},locals:{},paths:{},assignments:{}},h=""}var f,g,h,i={unary:{"+":function(a){return+a},"-":function(a){return-a},"!":function(a){return!a},"[":function(a){return a},"{":function(a){for(var b={},c=0,d=a.length;d>c;c++)b[a[c][0]]=a[c][1];return b},"typeof":function(a){return typeof a},"new":function(a){return new a}},binary:{"+":function(a,b){return a+b},"-":function(a,b){return a-b},"*":function(a,b){return a*b},"/":function(a,b){return a/b},"%":function(a,b){return a%b},"<":function(a,b){return b>a},">":function(a,b){return a>b},"<=":function(a,b){return b>=a},">=":function(a,b){return a>=b},"==":function(a,b){return a==b},"!=":function(a,b){return a!=b},"===":function(a,b){return a===b},"!==":function(a,b){return a!==b},"&&":function(a,b){return a&&b},"||":function(a,b){return a||b},".":function(a,b){return b&&(h=h+"."+b),a[b]},"[":function(a,b){return b&&(h=h+"."+b),a[b]},"(":function(a,b){return a.apply(null,b)},"|":function(a,b){return b.call(null,a)},"in":function(a,b){return this.assignment?b:a in b}},ternary:{"?":function(a,b,c){return a?b:c},"(":function(a,b,c){return a[b].apply(a,c)},"|":function(a,b,c){return b.apply(null,[a].concat(c))}}},j=["first","second","third"],k=function(a){for(var b,c,e=a.arity,i=a.value,l=[],m=0;3>m;m++)if(b=a[j[m]])if(Array.isArray(b)){l[m]=[];for(var n=0,o=b.length;o>n;n++)l[m].push("undefined"==typeof b[n].key?k(b[n]):[b[n].key,k(b[n])])}else l[m]=k(b);switch("literal"!==e&&(h&&"."!==i&&"["!==i&&(g.paths[h]=!0),"name"===e&&(h=i)),e){case"unary":case"binary":case"ternary":try{c=d(e,i).apply(a,l)}catch(p){}break;case"literal":c=i;break;case"assignment":g.assignments[i]=!0;break;case"name":g.locals[i]=!0,c=f.locals[i];break;case"filter":g.filters[i]=!0,c=f.filters[i];break;case"this":c=f.locals}return c};c.eval=function(a,b){return e(b||{}),k(a)},c.summary=function(a){e(),k(a),h&&(g.paths[h]=!0);for(var b in g)g[b]=Object.keys(g[b]);return g}},{}],10:[function(a,b){var c=a("./utils.js"),d={on:function(a,b,c){var d=c||this;return d._handlers=d._handlers||{},d._handlers[a]=d._handlers[a]||[],d._handlers[a].push({handler:b,context:c,ctx:d}),this},off:function(a,b,d){var e=d||this,f=e._handlers;if(a&&f[a])if(c.isFunction(b))for(var g=f[a].length-1;g>=0;g--)f[a][g].handler===b&&f[a].splice(g,1);else f[a]=[];return this},trigger:function(a){var b=this,c=[].slice.call(arguments,1),d=b._handlers;return d&&d[a]&&d[a].forEach(function(a){a.handler.apply(b,c)}),this}};b.exports=d},{"./utils.js":13}],11:[function(a,b,c){"use strict";var d=Object.create||function(a){function b(){}return b.prototype=a,new b},e=function(a,b){throw b=b||this,b.name="SyntaxError",b.message=a,b},f=function(a,b,c){var d,f,g,h,i,j=0,k=a.length,l=[],m=function(a,b){return{type:a,value:b,from:f,to:j}};if(a){for("string"!=typeof b&&(b="<>+-&"),"string"!=typeof c&&(c="=>&:"),d=a.charAt(j);d;)if(f=j," ">=d)j+=1,d=a.charAt(j);else if(d>="a"&&"z">=d||d>="A"&&"Z">=d||"$"===d||"_"===d){for(i=d,j+=1;d=a.charAt(j),d>="a"&&"z">=d||d>="A"&&"Z">=d||d>="0"&&"9">=d||"_"===d;)i+=d,j+=1;l.push(m("name",i))}else if(d>="0"&&"9">=d){for(i=d,j+=1;d=a.charAt(j),!("0">d||d>"9");)j+=1,i+=d;if("."===d)for(j+=1,i+=d;d=a.charAt(j),!("0">d||d>"9");)j+=1,i+=d;if("e"===d||"E"===d){j+=1,i+=d,d=a.charAt(j),("-"===d||"+"===d)&&(j+=1,i+=d,d=a.charAt(j)),("0">d||d>"9")&&e("Bad exponent",m("number",i));do j+=1,i+=d,d=a.charAt(j);while(d>="0"&&"9">=d)}d>="a"&&"z">=d&&(i+=d,j+=1,e("Bad number",m("number",i))),g=+i,isFinite(g)?l.push(m("number",g)):e("Bad number",m("number",i))}else if("'"===d||'"'===d){for(i="",h=d,j+=1;d=a.charAt(j)," ">d&&(m("string",i),e("\n"===d||"\r"===d||""===d?"Unterminated string.":"Control character in string.",m("",i))),d!==h;){if("\\"===d)switch(j+=1,j>=k&&e("Unterminated string",m("string",i)),d=a.charAt(j)){case"b":d="\b";break;case"f":d="\f";break;case"n":d="\n";break;case"r":d="\r";break;case"t":d="	";break;case"u":j>=k&&e("Unterminated string",m("string",i)),d=parseInt(a.substr(j+1,4),16),(!isFinite(d)||0>d)&&e("Unterminated string",m("string",i)),d=String.fromCharCode(d),j+=4}i+=d,j+=1}j+=1,l.push(m("string",i)),d=a.charAt(j)}else if("/"===d&&"/"===a.charAt(j+1))for(j+=1;d=a.charAt(j),"\n"!==d&&"\r"!==d&&""!==d;)j+=1;else if(b.indexOf(d)>=0){for(i=d,j+=1;;){if(d=a.charAt(j),j>=k||c.indexOf(d)<0)break;i+=d,j+=1}l.push(m("operator",i))}else j+=1,l.push(m("operator",d)),d=a.charAt(j);return l}},g=function(){var a,b,c,g,h={},i=function(){return this},j=function(a){return a.nud=i,a.led=null,a.std=null,a.lbp=0,a},k=function(f){var g,i,k,l;return f&&a.id!==f&&e("Expected '"+f+"'.",a),c>=b.length?void(a=h["(end)"]):(k=b[c],c+=1,l=k.value,g=k.type,("operator"===g||"string"!==g)&&l in h?(i=h[l],i||e("Unknown operator.",k)):"name"===g?i=j(k):"string"===g||"number"===g?(i=h["(literal)"],g="literal"):e("Unexpected token.",k),a=d(i),a.from=k.from,a.to=k.to,a.value=l,a.arity=g,a)},l=function(b){var c,d=a;for(k(),c=d.nud();b<a.lbp;)d=a,k(),c=d.led(c);return c},m={nud:function(){e("Undefined.",this)},led:function(){e("Missing operator.",this)}},n=function(a,b){var c=h[a];return b=b||0,c?b>=c.lbp&&(c.lbp=b):(c=d(m),c.id=c.value=a,c.lbp=b,h[a]=c),c},o=function(a,b){var c=n(a);return c.nud=function(){return this.value=h[this.id].value,this.arity="literal",this},c.value=b,c},p=function(a,b,c){var d=n(a,b);return d.led=c||function(a){return this.first=a,this.second=l(b),this.arity="binary",this},d},q=function(a,b,c){var d=n(a,b);return d.led=c||function(a){return this.first=a,this.second=l(b-1),this.arity="binary",this},d},r=function(a,b){var c=n(a);return c.nud=b||function(){return this.first=l(70),this.arity="unary",this},c};return n("(end)"),n("(name)"),n(":"),n(")"),n("]"),n("}"),n(","),o("true",!0),o("false",!1),o("null",null),o("Math",Math),o("Date",Date),n("(literal)").nud=i,p("?",20,function(a){return this.first=a,this.second=l(0),k(":"),this.third=l(0),this.arity="ternary",this}),q("&&",31),q("||",30),q("===",40),q("!==",40),q("==",40),q("!=",40),q("<",40),q("<=",40),q(">",40),q(">=",40),p("in",45,function(a){return this.first=a,this.second=l(0),this.arity="binary","repeat"===g&&(a.arity="assignment",this.assignment=!0),this}),p("+",50),p("-",50),p("*",60),p("/",60),p("%",60),p(".",80,function(b){return this.first=b,"name"!==a.arity&&e("Expected a property name.",a),a.arity="literal",this.second=a,this.arity="binary",k(),this}),p("[",80,function(a){return this.first=a,this.second=l(0),this.arity="binary",k("]"),this}),p("(",80,function(b){var c=[];if("."===b.id||"["===b.id?(this.arity="ternary",this.first=b.first,this.second=b.second,this.third=c):(this.arity="binary",this.first=b,this.second=c,"unary"===b.arity&&"function"===b.id||"name"===b.arity||"literal"===b.arity||"("===b.id||"&&"===b.id||"||"===b.id||"?"===b.id||e("Expected a variable name.",b)),")"!==a.id)for(;;){if(c.push(l(0)),","!==a.id)break;k(",")}return k(")"),this}),p("|",10,function(b){var c;if(this.first=b,a.arity="filter",this.second=l(10),this.arity="binary",":"===a.id)for(this.arity="ternary",this.third=c=[];;)if(k(":"),c.push(l(0)),":"!==a.id)break;return this}),r("!"),r("-"),r("typeof"),r("(",function(){var a=l(0);return k(")"),a}),r("[",function(){var b=[];if("]"!==a.id)for(;;){if(b.push(l(0)),","!==a.id)break;k(",")}return k("]"),this.first=b,this.arity="unary",this}),r("{",function(){var b,c,d=[];if("}"!==a.id)for(;;){if(b=a,"name"!==b.arity&&"literal"!==b.arity&&e("Bad property name.",a),k(),k(":"),c=l(0),c.key=b.value,d.push(c),","!==a.id)break;k(",")}return k("}"),this.first=d,this.arity="unary",this}),function(a,d){b=f(a,"=<>!+-*&|/%^","=<>&|"),c=0,g=d,k();var e=l(0);return k("(end)"),e}};c.parse=g()},{}],12:[function(a,b,c){function d(a){return f.lastIndex=0,a&&f.test(a)}function e(a){var b,c,d=[],e=[],g=0;for(f.lastIndex=0;b=f.exec(a);)f.lastIndex-g>b[0].length&&e.push(a.slice(g,f.lastIndex-b[0].length)),c={escape:!b[2],path:(b[2]||b[1]).trim(),position:e.length,textMap:e},d.push(c),e.push(b[0]),g=f.lastIndex;return a.length>g&&e.push(a.slice(g,a.length)),d.textMap=e,d}var f=/{{({([^}\n]+)}|[^}\n]+)}}/g;c.hasToken=d,c.parseToken=e},{}],13:[function(a,b){"use strict";function c(a){return a.replace(h,"").split(g)}function d(){var a,b,c,e,f,g,h,i=arguments[0]||{},k=1,l=arguments.length,m=!1;for("boolean"==typeof i&&(m=i,i=arguments[k]||{},k++),j.isFunction(arguments[l-1])&&(h=arguments[l-1],l--),"object"==typeof i||j.isFunction(i)||(i={});l>k;k++)if(null!=(a=arguments[k]))for(b in a)if(a.hasOwnProperty(b)&&"prototype"!==b)if(c=i[b],e=a[b],m&&e&&(j.isPlainObject(e)||(f=j.isArray(e)))){if(i===e)continue;f?(f=!1,g=c&&j.isArray(c)?c:[]):g=c&&j.isPlainObject(c)?c:{},h&&(e=h(g,e,b)),i[b]=d(m,g,e,h)}else j.isUndefined(e)||(h&&(e=h(c,e,b)),i[b]=e);return i}function e(a,b){var c;return j.isObject(a)?(b?(c=b=j.isObject(b)?b:f.createElement(b),c.innerHTML="",b.appendChild(a)):c=a,a=c.outerHTML):(c=j.isObject(b)?b:f.createElement(b||"div"),c.innerHTML=a),{el:c,tpl:a}}var f=a("./document.js"),g=/(?:\.|\[)/g,h=/\]/g,i=Object.create||function(a){function b(){}return b.prototype=a,new b},j={noop:function(){},ie:!!f.attachEvent,isObject:function(a){return"object"==typeof a&&null!==a},isUndefined:function(a){return"undefined"==typeof a},isFunction:function(a){return"function"==typeof a},isArray:function(a){return j.ie?a&&a.constructor+""==Array+"":Array.isArray(a)},isPlainObject:function(a){return!a||"[object Object]"!=={}.toString.call(a)||a.nodeType||a===a.window?!1:!0},beforeFn:function(a,b,c){return function(){var d=b.apply(this,arguments);return c&&c.call(this,d)?d:a.apply(this,arguments)}},afterFn:function(a,b,c){return function(){var d=a.apply(this,arguments);return c&&c.call(this,d)?d:(b.apply(this,arguments),d)}},parseKeyPath:c,deepSet:function(a,b,e){if(a){var f=c(a),g=e;f.forEach(function(a,c){c===f.length-1?g[a]=b:g&&g.hasOwnProperty(a)?g=g[a]:(g[a]={},g=g[a])})}else d(e,b);return e},deepGet:function(a,b){var d,e,f=b;if(a){d=c(a);for(var g=0,h=d.length;h>g;g++){if(e=d[g],!f||!f.hasOwnProperty(e))return;f=f[e]}}return f},extend:d,create:i,tplParse:e};b.exports=j},{"./document.js":8}]},{},[1])(1)});
//# sourceMappingURL=ant.min.map