/*! ant.js - v0.2.3 2014-05-16 */

!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.Ant=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";function c(a,b,c){return d(a,c),J(!0,a,b,function(a,b,e){var f;return"__ant__"!==e&&(f=b),d(a,c),f})}function d(a,b){return b&&D(a)&&(a.__ant__=b,a.push!==P.push&&J(a,P)),a}function e(a){a&&(q=a,L.IF=q+"if",L.REPEAT=q+"repeat",L.MODEL=q+"model",this.prefix=q)}function f(a,b){E(a)&&(a=b.tpl),b=b||{};var c,d=this.defaults||{};b=J(!0,{},d,b);var e=b.data||{},f=b.events||{},g=b.filters||{};c=K(a,b.el),a=c.tpl,c=c.el,this.options=b,this.tpl=a,this.el=c,this.data={},this.isRendered=!1,this.bindings=(this.bindings||[]).concat(b.bindings||[]),this.partials={},this.filters={};for(var i in f)this.on(i,f[i]);for(var j in g)this.setFilter(j,g[j]);h.call(this),e=J(this.data,e),b.data&&this.render(e),this.init.apply(this,arguments)}function g(a,b,c,d){var e,f=this._vm;return A(a)?(d=c,c=b,e=b=a):"string"==typeof a?(a=G(a).join("."),B(b)&&(b=this.get(a)),e=H(a,b,{}),f=f.$getVM(a)):b=this.data,B(c)&&(c=A(a)),f.$set(b,c,d!==!1),this.trigger("update",e),this}function h(){var a=new n({$ant:this});this._vm=a,i(this.el,a)}function i(a,b){if(a.length&&B(a.nodeType))for(var c=0,d=a.length;d>c;c++)i(a[c],b);else if(a.nodeType!==N.COMMENT){if(a.nodeType===N.TEXT)return void k(a,b);if(!j(a,b))for(var e,f=a.firstChild;f;)e=f.nextSibling,i(f,b),f=e}}function j(a,b){for(var c,d,e,g=(a.getAttributeNode(L.REPEAT),a.getAttributeNode(L.IF),f.prefix),h=l(a,f.directives,g),i=0,j=h.length;j>i&&(c=h[i],!(d<c.priority));i++)m(b,c),a.removeAttribute(c.node.nodeName),c.terminal&&(e=!0,d=c.priority);return e?!0:void 0}function k(a,b){if(z.hasToken(a.nodeValue)){var c=z.parseToken(a),d=c.textMap,e=a.parentNode;d.length>1?(d.forEach(function(c){var d=r.createTextNode(c);e.insertBefore(d,a),k(d,b)}),e.removeChild(a)):c.forEach(function(c){m(b,J(c,c.escape?f.directives.text:f.directives.html,{el:a}))})}}function l(a,b,c){c=c||"",b=b||{};for(var d,e,f,g,h=[],i=a.attributes.length-1;i>=0;i--)d=a.attributes[i],e=d.nodeName,f=e.slice(c.length),0===e.indexOf(c)&&f in b?(g=J({},b[f]),g.dirName=f):z.hasToken(d.value)?(g=J({},b.attr),g.dirs=z.parseToken(d),g.dirName=0===e.indexOf(c)?f:e):g=!1,z.hasToken(e),g&&h.push(J({el:a,node:d,nodeName:e,path:d.value},g));return h.sort(function(a,b){return a.priority-b.priority}),h}function m(a,b){if(b.replace){var c=b.el;b.node=C(b.replace)?b.replace():r.createComment(b.type+" = "+b.path),b.el=b.el.parentNode,b.el.replaceChild(b.node,c)}b.init(a),b.dirs?b.dirs.forEach(function(c){new o(a,J({},b,c))}):new o(a,b)}function n(a){J(this,{$key:"",$root:this,$watchers:[],$assignment:{}},a)}function o(a,b,c){this.token=b,this.relativeVm=a,this.ant=a.$root.$ant,this.el=b.el,this.val=0/0,this.update=c?c:b.update,b.path&&O.call(this,b.path);for(var d,e=a,f=!this.locals.length,g=0,h=this.paths.length;h>g;g++)d=u.parseKeyPath(this.paths[g]),d[0]in a.$assignment?f=!0:(e=a.$root,f=f||e!==a),e.$getVM(this.paths[g]).$watchers.push(this);this.state=o.STATE_READY,f&&this.fn()}function p(a,b,c){for(var d=a.__ant__.$watchers,e=!1,f=0,g=d.length;g>f;f++)d[f].type===L.REPEAT&&(d[f][b](c,a,e),e=!0);a.__ant__.$getVM("length").$set(a.length,!1,!0),a.__ant__.$root.$ant.trigger("update")}var q,r=a("./document.js"),s=a("./parse.js").parse,t=a("./eval.js"),u=a("./utils.js"),v=a("./event.js"),w=a("./class.js"),x=a("./directive.js"),y=a("./directives"),z=a("./token.js"),A=u.isObject,B=u.isUndefined,C=u.isFunction,D=u.isArray,E=u.isPlainObject,F=(u.beforeFn,u.afterFn),G=u.parseKeyPath,H=u.deepSet,I=u.deepGet,J=u.extend,K=(u.ie,u.tplParse),L={};J(f,w,x,{setPrefix:e,doc:r,directives:{},utils:u}),f.setPrefix("a-");for(var M in y)f.directive(M,y[M]);J(f.prototype,v,{render:function(a){return a=a||this.data,this.set(a,{isExtend:!1}),this.isRendered=!0,this.trigger("render"),this},clone:function(a){var b=J(!0,{},this.options);return a&&a.data&&(b.data=null),new this.constructor(this.tpl,J(!0,b,a))},get:function(a){return I(a,this.data)},set:function(a,b,d){var e,f,h,i,j;if(B(a))return this;if(A(a))e=!0,d=b,d=d||{},d.isExtend!==!1?(f=!0,c(this.data,a,this._vm)):(f=!1,this.data=c({},a,this._vm));else if(d=d||{},I(a,this.data)!==b&&(e=!0),e)if(d.isExtend!==!0){if(i=G(a),i.length>1){if(j=i.pop(),h=I(i.join("."),this.data),B(h))H(i.join("."),h={},this.data);else if(!A(h)){var k=h;H(i.join("."),h={toString:function(){return k}},this.data)}}else a?(h=this.data,j=a):(h=this,j="data");h[j]=A(b)?c(D(b)?[]:{},b,this._vm.$getVM(a,!D(b))):b,f=!1}else c(this.data,H(a,b,{}),this._vm),f=!0;return e&&!d.silence&&(A(a)?g.call(this,a,f,d.isBubble):g.call(this,a,b,f,d.isBubble)),this},setPartial:function(a){if(a){a=J({},this.partials[a.name],a);var b,c,d,e=a.name,g=a.target,h=a.content,j=a.path||"";if(e&&(this.partials[e]=a),h){if(d=this._vm.$getVM(j),"string"==typeof h)if(a.escape)b=[r.createTextNode(h)];else{c=K(h,"div").el.childNodes,b=[];for(var k=0,l=c.length;l>k;k++)b.push(c[k])}else b=[h instanceof f?h.el:h];if(g)for(var k=0,l=b.length;l>k;k++)C(g)?g.call(this,b[k]):g.appendChild(b[k]);i(b,d),this.isRendered&&d.$set(I(j,this.data),!1,!0)}return this}},init:u.noop,watch:function(a,b){return a&&b&&new o(this._vm,{path:a},b),this},unwatch:function(a,b){var c=this._vm.$getVM(a,!0);if(c)for(var d=c.$watchers.length-1;d>=0;d--)c.$watchers[d].callback===b&&c.$watchers.splice(d,1);return this},setFilter:function(a,b){this.filters[a]=b.bind(this)},getFilter:function(a){return this.filters[a]},removeFilter:function(a){delete this.filters[a]}});var N={ATTR:2,TEXT:3,COMMENT:8};n.prototype={$root:null,$parent:null,$ant:null,$key:null,$repeat:!1,$assignment:null,$watchers:null,$value:0/0,$getVM:function(a,b){a+="";var c,d,e=this,f=u.parseKeyPath(a);if(f[0]in this.$assignment&&(e=this.$assignment[f[0]],f.shift()),a)for(var g=0,h=f.length;h>g;g++){if(c=f[g],!e[c]){if(b)return null;d=new n({$parent:e,$root:e.$root,$assignment:J({},e.$assignment),$key:c}),e[c]=d}e=e[c]}return e},$getKeyPath:function(){for(var a=this.$key,b=this;(b=b.$parent)&&b.$key;)a=b.$key+"."+a;return a},$getData:function(a,b){if("$index"===a&&this.$parent&&this.$parent.$repeat)return 1*this.$key;var c=I(a,this.$root.$ant.get(this.$getKeyPath()));return!b&&this.$parent&&B(c)?this.$parent.$getData(a):c},$set:function(a,b,c){for(var d=b?a:this,e=this,f=0,g=this.$watchers.length;g>f;f++)(this.$value!==a||this.$watchers[f].state===o.STATE_READY)&&this.$watchers[f].fn();if(this.$value=a,A(d))for(var h in d)!this.hasOwnProperty(h)||h in n.prototype||this.$repeat&&"length"!==h||this[h].$set(a?a[h]:void 0,b);if(c)for(;e=e.$parent;)for(var f=0,g=e.$watchers.length;g>f;f++)e.$watchers[f].fn()}};var O=function(a){var b=s(a,this.type&&this.type.slice(q.length));J(this,t.summary(b)),this._ast=b};J(o,{STATE_READY:0,STATE_CALLED:1},w),J(o.prototype,{fn:function(){for(var a,b={},c=0,d=this.locals.length;d>c;c++)a=this.locals[c],b[a]=a in this.relativeVm.$assignment?this.relativeVm.$assignment[a].$getData():this.relativeVm.$getData(a);{var e=this.getValue(b);this.token}if(e!==this.val)try{this.update.call(this.token,e,this.val),this.val=e}catch(f){console.error(f)}this.state=o.STATE_CALLED},callback:function(a){var b,c=this.token,d=c.position,e=c.node,f=c.el,g=c.textMap,h=c.nodeName,i=c.isAttrName;if(a+""!=g[d]+"")if(g[d]=a&&a+"",b=g.join(""),"#text"===h);else{if(c.baseTokens&&(h=c.nodeName=c.baseTokens.textMap.join("")),i||(e.nodeValue=b),c.condiAttr&&!i&&!a)return void f.removeAttribute(h);i&&(h&&f.removeAttribute(h),h=c.nodeName=b,b=e.nodeValue),h&&setAttr(f,h,b)}},getValue:function(a){for(var b,c=this.filters,d=this.ant,e=0,f=c.length;f>e;e++)d.filters[c[e]]||console.error("Filter: "+c[e]+" not found!");try{b=t.eval(this._ast,{locals:a,filters:d.filters})}catch(g){b=""}return b}});{var P={splice:F([].splice,function(){p(this,"splice",[].slice.call(arguments))}),push:F([].push,function(){var a=[].slice.call(arguments);a.unshift(this.length-a.length,0),p(this,"splice",a)}),pop:F([].pop,function(){p(this,"splice",[this.length,1])}),shift:F([].shift,function(){p(this,"splice",[0,1])}),unshift:F([].unshift,function(){var a=[].slice.call(arguments);a.unshift(0,0),p(this,"splice",a)}),sort:F([].sort,function(){p(this,"sort")}),reverse:F([].reverse,function(){p(this,"reverse")})};o.extend({constructor:function(a,b){var c=r.createTextNode(""),d=b.el,e=b.nodeName;this.type=e,this.anchor=c,d.parentNode.insertBefore(c,d),d.parentNode.removeChild(d),o.apply(this,arguments),d.removeAttribute(e),this.els=[],this.vm=a.$getVM(this.paths[0]),e===L.IF?i(this.el,a):this.vm.$repeat=!0},callback:function(a){var b=this;if(b.type===L.REPEAT){if(a&&!D(a))return void console.warn("需要一个数组");a&&this.splice([0,this.els.length].concat(a),a)}else a?b.lastIfState||b.anchor.parentNode.insertBefore(b.el,b.anchor):b.lastIfState&&b.el.parentNode.removeChild(b.el),b.lastIfState=a},splice:function(a,b,d){var e,f,g=this.els,h=a.slice(2),j=1*a[0],k=1*a[1],l=h.length,m=[],n=r.createDocumentFragment(),o=this.anchor.parentNode;B(k)&&(a[1]=k=g.length-j);for(var p=j,q=g.length;q>p;p++)if(j+k>p){try{o.removeChild(g[p])}catch(s){}d||delete this.vm[p]}else{if(!k&&!l)break;var t=p-(k-l),u=p;t>u&&(t=q-(p-j),u=t+(k-l)),g[u].$index=t,d||(f=this.vm[t]=this.vm[u],f.$key=t+"")}for(var v=0;l>v;v++){e=this.el.cloneNode(!0),d||delete this.vm[j+v],f=this.vm.$getVM(j+v);for(var w=0;w<this.assignments.length;w++)f.$assignment[this.assignments[w]]=f;e.$index=j+v,n.appendChild(e),i(e,f),f.$set(h[v]),m.push(e),b&&A(b[j+v])&&(b[j+v]=c(D(b[j+v])?[]:{},b[j+v],f))}if(m.length&&o.insertBefore(n,g[j+k]||this.anchor),!d)for(var x=q-k+l;q>x;x++)delete this.vm[x];b.__ant__!==this.vm&&(b.__ant__=this.vm),a=a.slice(0,2).concat(m),g.splice.apply(g,a)},reverse:function(a,b,c){for(var d,e=this.vm,f=this.anchor,g=r.createDocumentFragment(),h=0,i=this.els.length;i>h;h++)!c&&.5>h&&(d=e[h],e[h]=e[i-h-1],e[h].$key=h+"",d.$key=i-h-1+"",e[i-h-1]=d),this.els[h].$index=i-h-1,g.appendChild(this.els[i-h-1]);f.parentNode.insertBefore(g,f),this.els.reverse()},sort:function(){this.callback(this.val)}})}f._parse=s,f._eval=t.eval,f.version="0.2.3",b.exports=f},{"./class.js":2,"./directive.js":3,"./directives":5,"./document.js":7,"./eval.js":8,"./event.js":9,"./parse.js":10,"./token.js":11,"./utils.js":12}],2:[function(a,b){var c=a("./utils.js").extend,d={extend:function(a,b){a=a||{};var d=a.hasOwnProperty("constructor")?a.constructor:function(){return e.apply(this,arguments)},e=this,f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,c(d.prototype,a),c(d,e,b,{__super__:e.prototype}),d}};b.exports=d},{"./utils.js":12}],3:[function(a,b,c){"use strict";function d(a,b){var c=this.directives=this.directives||{};return c[a]=new e(a,b)}function e(a,b){f.extend(this,{priority:0,type:a,terminal:!1,replace:!1,update:f.noop,init:f.noop},b)}var f=a("./utils.js");c.directive=d},{"./utils.js":12}],4:[function(a,b){"use strict";function c(a,b,c){try{(b in a||"class"===b)&&("style"===b&&a.style.setAttribute?a.style.setAttribute("cssText",c):"class"===b?a.className=c:a[b]="boolean"==typeof a[b]?!0:c)}catch(d){}try{a.setAttribute(b,c)}catch(d){console.warn(d)}}b.exports={init:function(){this.dirName===this.type&&(this.attrs={})},update:function(a){if(this.dirName===this.type){for(var b in a)c(this.el,b,a[b]),a[b]&&delete this.attrs[b];for(var b in this.attrs)this.el.removeAttribute(b);this.attrs=a}else this.textMap[this.position]=a&&a+"",a=this.textMap.join(""),c(this.el,this.dirName,a)}}},{}],5:[function(a,b){"use strict";var c=a("../document.js"),d={};d.text={terminal:!0,replace:function(){return c.createTextNode("")},update:function(a){this.node.nodeValue=a}},d.html={terminal:!0,replace:!0,init:function(){this.nodes=[]},update:function(a){var b=document.createElement("div");b.innerHTML=a;for(var c;c=this.nodes.pop();)c.parentNode&&c.parentNode.removeChild(c);for(var d=b.childNodes,e=0,f=d.length;f>e;e++)this.nodes.push(d[e]),this.el.insertBefore(this.nodes[e],this.node)}},d.repeat={priority:1e4,terminal:!0},d["if"]={},d.attr=a("./attr.js"),d.model=a("./model.js"),d.partial={terminal:!0,init:function(){}},b.exports=d},{"../document.js":7,"./attr.js":4,"./model.js":6}],6:[function(a,b){"use strict";function c(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function d(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent("on"+b,c)}var e=a("../utils.js");b.exports={teminal:!0,priority:1,init:function(a){var b=this.path;if(!b)return!1;var f,g=this.el,h="change",i=f="value",j=a.$root.$ant,k=a.$getVM(b),l=e.isUndefined(j.get(k.$getKeyPath())),m=/\r\n/g,n=function(c){var d=(c||a.$getData(b)||"")+"",c=g[f];c&&c.replace&&(c=c.replace(m,"\n")),d!==c&&(g[f]=d)},o=function(a){var b=g[i];b.replace&&(b=b.replace(m,"\n")),j.set(k.$getKeyPath(),b,{isBubble:a!==!0})},p=function(a){a&&a.propertyName&&a.propertyName!==f||o.apply(this,arguments)},q=e.ie;switch(g.tagName){default:i=f="innerHTML";case"INPUT":case"TEXTAREA":switch(g.type){case"checkbox":i=f="checked",q&&(h+=" click");break;case"radio":f="checked",q&&(h+=" click"),n=function(){g.checked=g.value===a.$getData(b)+""},l=g.checked;break;default:j.options.lazy||("oninput"in g&&(h+=" input"),q&&(h+=" keyup propertychange cut"))}break;case"SELECT":g.multiple&&(o=function(a){for(var b=[],c=0,d=g.options.length;d>c;c++)g.options[c].selected&&b.push(g.options[c].value);j.set(k.$getKeyPath(),b,{isBubble:a!==!0})},n=function(){var c=a.$getData(b);if(c&&c.length)for(var d=0,e=g.options.length;e>d;d++)g.options[d].selected=-1!==c.indexOf(g.options[d].value)})}this.update=n,h.split(/\s+/g).forEach(function(a){d(g,a,p),c(g,a,p)}),g[i]&&l&&o(!0)}}},{"../utils.js":12}],7:[function(a,b){!function(c){"use strict";b.exports=c.document||a("jsdom").jsdom()}(function(){return this}())},{}],8:[function(a,b,c){"use strict";function d(a,b){return i[a][b]||function(){}}function e(a){f=a?{locals:a.locals||{},filters:a.filters||{}}:{filters:{},locals:{}},g={filters:{},locals:{},paths:{},assignments:{}},h=""}var f,g,h,i={unary:{"+":function(a){return+a},"-":function(a){return-a},"!":function(a){return!a},"[":function(a){return a},"{":function(a){for(var b={},c=0,d=a.length;d>c;c++)b[a[c][0]]=a[c][1];return b},"typeof":function(a){return typeof a},"new":function(a){return new a}},binary:{"+":function(a,b){return a+b},"-":function(a,b){return a-b},"*":function(a,b){return a*b},"/":function(a,b){return a/b},"%":function(a,b){return a%b},"<":function(a,b){return b>a},">":function(a,b){return a>b},"<=":function(a,b){return b>=a},">=":function(a,b){return a>=b},"==":function(a,b){return a==b},"!=":function(a,b){return a!=b},"===":function(a,b){return a===b},"!==":function(a,b){return a!==b},"&&":function(a,b){return a&&b},"||":function(a,b){return a||b},".":function(a,b){return b&&(h=h+"."+b),a[b]},"[":function(a,b){return b&&(h=h+"."+b),a[b]},"(":function(a,b){return a.apply(null,b)},"|":function(a,b){return b.call(null,a)},"in":function(a,b){return this.assignment?(delete g.locals[a],g.assignments[a]=!0,b):a in b}},ternary:{"?":function(a,b,c){return a?b:c},"(":function(a,b,c){return a[b].apply(a,c)},"|":function(a,b,c){return b.apply(null,[a].concat(c))}}},j=["first","second","third"],k=function(a){for(var b,c,e=a.arity,i=a.value,l=[],m=0;3>m;m++)if(b=a[j[m]])if(Array.isArray(b)){l[m]=[];for(var n=0,o=b.length;o>n;n++)l[m].push("undefined"==typeof b[n].key?k(b[n]):[b[n].key,k(b[n])])}else l[m]=k(b);switch("literal"!==e&&(h&&"."!==i&&"["!==i&&(g.paths[h]=!0),"name"===e&&(h=i)),e){case"unary":case"binary":case"ternary":try{c=d(e,i).apply(a,l)}catch(p){}break;case"literal":c=i;break;case"name":g.locals[i]=!0,c=f.locals[i];break;case"filter":g.filters[i]=!0,c=f.filters[i];break;case"this":c=f.locals}return c};c.eval=function(a,b){return e(b||{}),k(a)},c.summary=function(a){e(),k(a),h&&(g.paths[h]=!0);for(var b in g)g[b]=Object.keys(g[b]);return g}},{}],9:[function(a,b){var c=a("./utils.js"),d={on:function(a,b,c){var d=c||this;return d._handlers=d._handlers||{},d._handlers[a]=d._handlers[a]||[],d._handlers[a].push({handler:b,context:c,ctx:d}),this},off:function(a,b,d){var e=d||this,f=e._handlers;if(a&&f[a])if(c.isFunction(b))for(var g=f[a].length-1;g>=0;g--)f[a][g].handler===b&&f[a].splice(g,1);else f[a]=[];return this},trigger:function(a){var b=this,c=[].slice.call(arguments,1),d=b._handlers;return d&&d[a]&&d[a].forEach(function(a){a.handler.apply(b,c)}),this}};b.exports=d},{"./utils.js":12}],10:[function(a,b,c){"use strict";var d=Object.create||function(a){function b(){}return b.prototype=a,new b},e=function(a,b){throw b=b||this,b.name="SyntaxError",b.message=a,b},f=function(a,b,c){var d,f,g,h,i,j=0,k=a.length,l=[],m=function(a,b){return{type:a,value:b,from:f,to:j}};if(a){for("string"!=typeof b&&(b="<>+-&"),"string"!=typeof c&&(c="=>&:"),d=a.charAt(j);d;)if(f=j," ">=d)j+=1,d=a.charAt(j);else if(d>="a"&&"z">=d||d>="A"&&"Z">=d||"$"===d||"_"===d){for(i=d,j+=1;d=a.charAt(j),d>="a"&&"z">=d||d>="A"&&"Z">=d||d>="0"&&"9">=d||"_"===d;)i+=d,j+=1;l.push(m("name",i))}else if(d>="0"&&"9">=d){for(i=d,j+=1;d=a.charAt(j),!("0">d||d>"9");)j+=1,i+=d;if("."===d)for(j+=1,i+=d;d=a.charAt(j),!("0">d||d>"9");)j+=1,i+=d;if("e"===d||"E"===d){j+=1,i+=d,d=a.charAt(j),("-"===d||"+"===d)&&(j+=1,i+=d,d=a.charAt(j)),("0">d||d>"9")&&e("Bad exponent",m("number",i));do j+=1,i+=d,d=a.charAt(j);while(d>="0"&&"9">=d)}d>="a"&&"z">=d&&(i+=d,j+=1,e("Bad number",m("number",i))),g=+i,isFinite(g)?l.push(m("number",g)):e("Bad number",m("number",i))}else if("'"===d||'"'===d){for(i="",h=d,j+=1;d=a.charAt(j)," ">d&&(m("string",i),e("\n"===d||"\r"===d||""===d?"Unterminated string.":"Control character in string.",m("",i))),d!==h;){if("\\"===d)switch(j+=1,j>=k&&e("Unterminated string",m("string",i)),d=a.charAt(j)){case"b":d="\b";break;case"f":d="\f";break;case"n":d="\n";break;case"r":d="\r";break;case"t":d="	";break;case"u":j>=k&&e("Unterminated string",m("string",i)),d=parseInt(a.substr(j+1,4),16),(!isFinite(d)||0>d)&&e("Unterminated string",m("string",i)),d=String.fromCharCode(d),j+=4}i+=d,j+=1}j+=1,l.push(m("string",i)),d=a.charAt(j)}else if("/"===d&&"/"===a.charAt(j+1))for(j+=1;d=a.charAt(j),"\n"!==d&&"\r"!==d&&""!==d;)j+=1;else if(b.indexOf(d)>=0){for(i=d,j+=1;;){if(d=a.charAt(j),j>=k||c.indexOf(d)<0)break;i+=d,j+=1}l.push(m("operator",i))}else j+=1,l.push(m("operator",d)),d=a.charAt(j);return l}},g=function(){var a,b,c,g,h={},i=function(){return this},j=function(a){return a.nud=i,a.led=null,a.std=null,a.lbp=0,a},k=function(f){var g,i,k,l;return f&&a.id!==f&&e("Expected '"+f+"'.",a),c>=b.length?void(a=h["(end)"]):(k=b[c],c+=1,l=k.value,g=k.type,("operator"===g||"string"!==g)&&l in h?(i=h[l],i||e("Unknown operator.",k)):"name"===g?i=j(k):"string"===g||"number"===g?(i=h["(literal)"],g="literal"):e("Unexpected token.",k),a=d(i),a.from=k.from,a.to=k.to,a.value=l,a.arity=g,a)},l=function(b){var c,d=a;for(k(),c=d.nud();b<a.lbp;)d=a,k(),c=d.led(c);return c},m={nud:function(){e("Undefined.",this)},led:function(){e("Missing operator.",this)}},n=function(a,b){var c=h[a];return b=b||0,c?b>=c.lbp&&(c.lbp=b):(c=d(m),c.id=c.value=a,c.lbp=b,h[a]=c),c},o=function(a,b){var c=n(a);return c.nud=function(){return this.value=h[this.id].value,this.arity="literal",this},c.value=b,c},p=function(a,b,c){var d=n(a,b);return d.led=c||function(a){return this.first=a,this.second=l(b),this.arity="binary",this},d},q=function(a,b,c){var d=n(a,b);return d.led=c||function(a){return this.first=a,this.second=l(b-1),this.arity="binary",this},d},r=function(a,b){var c=n(a);return c.nud=b||function(){return this.first=l(70),this.arity="unary",this},c};return n("(end)"),n("(name)"),n(":"),n(")"),n("]"),n("}"),n(","),o("true",!0),o("false",!1),o("null",null),o("Math",Math),o("Date",Date),n("(literal)").nud=i,p("?",20,function(a){return this.first=a,this.second=l(0),k(":"),this.third=l(0),this.arity="ternary",this}),q("&&",31),q("||",30),q("===",40),q("!==",40),q("==",40),q("!=",40),q("<",40),q("<=",40),q(">",40),q(">=",40),p("in",45,function(a){return this.first=a,this.second=l(0),this.arity="binary","repeat"===g&&(this.assignment=!0),this}),p("+",50),p("-",50),p("*",60),p("/",60),p("%",60),p(".",80,function(b){return this.first=b,"name"!==a.arity&&e("Expected a property name.",a),a.arity="literal",this.second=a,this.arity="binary",k(),this}),p("[",80,function(a){return this.first=a,this.second=l(0),this.arity="binary",k("]"),this}),p("(",80,function(b){var c=[];if("."===b.id||"["===b.id?(this.arity="ternary",this.first=b.first,this.second=b.second,this.third=c):(this.arity="binary",this.first=b,this.second=c,"unary"===b.arity&&"function"===b.id||"name"===b.arity||"literal"===b.arity||"("===b.id||"&&"===b.id||"||"===b.id||"?"===b.id||e("Expected a variable name.",b)),")"!==a.id)for(;;){if(c.push(l(0)),","!==a.id)break;k(",")}return k(")"),this}),p("|",10,function(b){var c;if(this.first=b,a.arity="filter",this.second=l(10),this.arity="binary",":"===a.id)for(this.arity="ternary",this.third=c=[];;)if(k(":"),c.push(l(0)),":"!==a.id)break;return this}),r("!"),r("-"),r("typeof"),r("(",function(){var a=l(0);return k(")"),a}),r("[",function(){var b=[];if("]"!==a.id)for(;;){if(b.push(l(0)),","!==a.id)break;k(",")}return k("]"),this.first=b,this.arity="unary",this}),r("{",function(){var b,c,d=[];if("}"!==a.id)for(;;){if(b=a,"name"!==b.arity&&"literal"!==b.arity&&e("Bad property name.",a),k(),k(":"),c=l(0),c.key=b.value,d.push(c),","!==a.id)break;k(",")}return k("}"),this.first=d,this.arity="unary",this}),function(a,d){b=f(a,"=<>!+-*&|/%^","=<>&|"),c=0,g=d,k();var e=l(0);return k("(end)"),e}};c.parse=g()},{}],11:[function(a,b,c){function d(a){return f.lastIndex=0,a&&f.test(a)}function e(a){var b,c,d,e,g=[],h=[],i=0,j=a.nodeValue,k=a.nodeName;for(f.lastIndex=0;d=f.exec(j);)f.lastIndex-i>d[0].length&&h.push(j.slice(i,f.lastIndex-d[0].length)),e={escape:!d[2],path:(d[2]||d[1]).trim(),position:h.length,node:a,nodeName:k,textMap:h},b&&(e.condiAttr=!0),c&&(e.isAttrName=!0),g.push(e),h.push(d[0]),i=f.lastIndex;return j.length>i&&h.push(j.slice(i,j.length)),g.textMap=h,g}var f=/{{({([^}\n]+)}|[^}\n]+)}}/g;c.hasToken=d,c.parseToken=e},{}],12:[function(a,b){"use strict";function c(a){return a.replace(h,"").split(g)}function d(){var a,b,c,e,f,g,h,j=arguments[0]||{},k=1,l=arguments.length,m=!1;for("boolean"==typeof j&&(m=j,j=arguments[k]||{},k++),i.isFunction(arguments[l-1])&&(h=arguments[l-1],l--),"object"==typeof j||i.isFunction(j)||(j={});l>k;k++)if(null!=(a=arguments[k]))for(b in a)if(a.hasOwnProperty(b)&&"prototype"!==b)if(c=j[b],e=a[b],m&&e&&(i.isPlainObject(e)||(f=i.isArray(e)))){if(j===e)continue;f?(f=!1,g=c&&i.isArray(c)?c:[]):g=c&&i.isPlainObject(c)?c:{},h&&(e=h(g,e,b)),j[b]=d(m,g,e,h)}else i.isUndefined(e)||(h&&(e=h(c,e,b)),j[b]=e);return j}function e(a,b){var c;return i.isObject(a)?(b?(c=b=i.isObject(b)?b:f.createElement(b),c.innerHTML="",b.appendChild(a)):c=a,a=c.outerHTML):(c=i.isObject(b)?b:f.createElement(b||"div"),c.innerHTML=a),{el:c,tpl:a}}var f=a("./document.js"),g=/(?:\.|\[)/g,h=/\]/g,i={noop:function(){},ie:!!f.attachEvent,isObject:function(a){return"object"==typeof a&&null!==a},isUndefined:function(a){return"undefined"==typeof a},isFunction:function(a){return"function"==typeof a},isArray:function(a){return i.ie?a&&a.constructor+""==Array+"":Array.isArray(a)},isPlainObject:function(a){return!a||"[object Object]"!=={}.toString.call(a)||a.nodeType||a===a.window?!1:!0},beforeFn:function(a,b,c){return function(){var d=b.apply(this,arguments);return c&&c.call(this,d)?d:a.apply(this,arguments)}},afterFn:function(a,b,c){return function(){var d=a.apply(this,arguments);return c&&c.call(this,d)?d:(b.apply(this,arguments),d)}},parseKeyPath:c,deepSet:function(a,b,e){if(a){var f=c(a),g=e;f.forEach(function(a,c){c===f.length-1?g[a]=b:g&&g.hasOwnProperty(a)?g=g[a]:(g[a]={},g=g[a])})}else d(e,b);return e},deepGet:function(a,b){var d,e,f=b;if(a){d=c(a);for(var g=0,h=d.length;h>g;g++){if(e=d[g],!f||!f.hasOwnProperty(e))return;f=f[e]}}return f},extend:d,tplParse:e};b.exports=i},{"./document.js":7}]},{},[1])(1)});
//# sourceMappingURL=ant.min.map