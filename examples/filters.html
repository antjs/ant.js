<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Filters in ant.js</title>
  <!--[if lt IE 9]>
  <script type="text/javascript" src="../src/ant-es5-shim.js"></script>
  <![endif]-->
  <script type="text/javascript" src="../src/ant.js"></script>
</head>
<body>
	<div id=template a-style='{{money | color}}'>
    <h1>Filters in ant.js: </h1>
    <div>
      You got {{ money | rmb }} !!  
    </div>
    <div><input value=50 type="range" a-model={{money}} min=0 max=100 autofocus /> 
      <label>$: <input type="radio" name=type a-model='{{type }}' value='dol' checked /></label>
      <label>￥: <input type="radio" name=type a-model='{{ type }}' value='rmb' /></label>
    </div>
  </div>
<script type="text/javascript">
  var ant = new Ant(document.getElementById('template'), {
      data: {}
    //You can write filters here, just like events
    , filters: {
        rmb: function(val){
          return this.data.type === 'rmb' ? '￥ ' + (val * 6.084).toFixed(2) : '$ ' + val;
        }
      , color: function(val) {
          var r, g;
          if(val <= 50){
            r = 'ff';
            g = prefixO(Math.round((2.55 * 2 * val)).toString(16), 2)
          }else{
            r = prefixO(Math.round((2.55 * 2 * (100 - val))).toString(16), 2);
            g = prefixO(Math.round(127 + (1.28 * 2 * (100 - val))).toString(16), 2)
          }
          return 'background-color: #' + r + g + '00';
        }
      }
    });
  
  function prefixO(str) {
    return str.length < 2 ? ('0' + str) : str;
  }
</script>
</body>
</html>